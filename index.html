<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Our Pawmise</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #FF6B6B;
      --secondary: #4ECDC4;
      --accent: #FFE66D;
      --text: #2C3E50;
      --light: #F7F9FC;
      --white: #FFFFFF;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Poppins', sans-serif;
      line-height: 1.6;
      color: var(--text);
      background-color: var(--light);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    /* Navigation */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background-color: rgba(255, 255, 255, 0.95);
      padding: 1rem 0;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      z-index: 1000;
    }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text);
      font-weight: 500;
      transition: color 0.3s ease;
    }

    .nav-links a:hover {
      color: var(--primary);
    }

    /* Hero Section */
    .hero {
      height: 100vh;
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
                  url('https://images.unsplash.com/photo-1450778869180-41d0601e046e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      text-align: center;
      color: var(--white);
      margin-top: 0;
    }

    .hero-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }

    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
    }

    .hero p {
      font-size: 1.5rem;
      margin-bottom: 2rem;
    }

    /* Sections */
    section {
      padding: 5rem 0;
    }

    .section-title {
      text-align: center;
      margin-bottom: 3rem;
    }

    .section-title h2 {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }

    /* Cards */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .card {
      background: var(--white);
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    /* Team Section */
    .team-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .team-member {
      text-align: center;
      padding: 1rem;
      background: var(--white);
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .team-member:hover {
      transform: translateY(-5px);
    }

    .team-member img {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      margin-bottom: 1rem;
      object-fit: cover;
      border: 4px solid var(--primary);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* Dog Section */
    .dog-section {
      background-color: var(--white);
      text-align: center;
      padding: 4rem 0;
    }

    .pets-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      max-width: 1200px;
      margin: 2rem auto;
    }

    .pet-image-container {
      position: relative;
      padding: 1.5rem;
      background: var(--white);
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .pet-image-container:hover {
      transform: translateY(-5px);
    }

    .pet-image {
      width: 100%;
      height: auto;
      border-radius: 15px;
      border: 4px solid var(--primary);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .pet-image-caption {
      margin-top: 1.5rem;
      font-size: 1.1rem;
      color: var(--text);
      font-style: italic;
      line-height: 1.4;
    }

    .dog-section .section-title {
      margin-bottom: 2rem;
    }

    .dog-section p {
      max-width: 800px;
      margin: 0 auto 2rem;
      font-size: 1.1rem;
      color: var(--text);
      opacity: 0.9;
    }

    /* Contact Section */
    .contact-info {
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }

    .contact-info p {
      margin-bottom: 1rem;
    }

    /* Footer */
    footer {
      background-color: var(--text);
      color: var(--white);
      text-align: center;
      padding: 2rem 0;
    }

    /* Chatbot Styles */
    .chatbot-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      font-family: 'Poppins', sans-serif;
    }

    .chatbot-toggle {
      width: 60px;
      height: 60px;
      background: var(--primary);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .chatbot-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    .chatbot-window {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 350px;
      height: 500px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      display: none;
      flex-direction: column;
      overflow: hidden;
    }

    .chatbot-header {
      background: var(--primary);
      color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chatbot-header h3 {
      margin: 0;
      font-size: 16px;
    }

    .chatbot-close {
      background: none;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
      padding: 0;
    }

    .chatbot-messages {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: #f8f9fa;
    }

    .message {
      margin-bottom: 15px;
      display: flex;
      align-items: flex-start;
    }

    .message.user {
      justify-content: flex-end;
    }

    .message-content {
      max-width: 80%;
      padding: 10px 15px;
      border-radius: 15px;
      word-wrap: break-word;
    }

    .message.bot .message-content {
      background: white;
      color: var(--text);
      border: 1px solid #e9ecef;
    }

    .message.user .message-content {
      background: var(--primary);
      color: white;
    }

    .chatbot-input {
      padding: 15px 20px;
      border-top: 1px solid #e9ecef;
      display: flex;
      gap: 10px;
    }

    .chatbot-input input {
      flex: 1;
      padding: 10px 15px;
      border: 1px solid #e9ecef;
      border-radius: 20px;
      outline: none;
      font-family: 'Poppins', sans-serif;
    }

    .chatbot-input input:focus {
      border-color: var(--primary);
    }

    .chatbot-send {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s ease;
    }

    .chatbot-send:hover {
      background: #e55a5a;
    }

    .typing-indicator {
      display: none;
      padding: 10px 15px;
      background: white;
      border-radius: 15px;
      border: 1px solid #e9ecef;
      margin-bottom: 15px;
    }

    .typing-dots {
      display: flex;
      gap: 4px;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      background: #ccc;
      border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(1) { animation-delay: -0.32s; }
    .typing-dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% { transform: scale(0); }
      40% { transform: scale(1); }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }

      .hero h1 {
        font-size: 2.5rem;
      }

      .hero p {
        font-size: 1.2rem;
      }

      section {
        padding: 3rem 0;
      }

      .pets-grid {
        grid-template-columns: 1fr;
        max-width: 400px;
      }

      .chatbot-window {
        width: 300px;
        height: 400px;
        right: 0;
      }
    }
  </style>
</head>
<body>
  <nav>
    <div class="container nav-container">
      <a href="#" class="logo">Our Pawmise</a>
      <div class="nav-links">
        <a href="#mission">Mission</a>
        <a href="#programs">Programs</a>
        <a href="#difference">Why Us</a>
        <a href="#team">Team</a>
        <a href="#dog">Our Pets</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-content">
      <h1>Our Pawmise</h1>
      <p>Because no pet should be denied care due to cost</p>
    </div>
  </section>

  <section id="mission" class="container">
    <div class="section-title">
      <h2>Mission & Vision</h2>
    </div>
    <div class="card">
      <p>Our mission is to save and improve pet lives by helping East Bay pet owners afford critical veterinary care. We work to eliminate "economic euthanasia" by offering grants and education to families in need.</p>
      <p>Our vision: a future where no pet is surrendered or put down due to financial hardship.</p>
    </div>
  </section>

  <section id="programs" class="container">
    <div class="section-title">
      <h2>What We Do</h2>
    </div>
    <div class="card-grid">
      <div class="card">
        <h3>Financial Assistance</h3>
        <p>One-time grants paid directly to veterinarians for non-routine treatments like tumor removal, heart disease care, or orthopedic surgeries.</p>
      </div>
      <div class="card">
        <h3>Pet Owner Education</h3>
        <p>We share resources on preventive care, pet insurance, and financial planning to help owners stay prepared.</p>
      </div>
      <div class="card">
        <h3>Referrals</h3>
        <p>For emergency or basic care, we guide applicants to trusted local resources.</p>
      </div>
    </div>
  </section>

  <section id="difference" class="container">
    <div class="section-title">
      <h2>What Makes Us Different</h2>
    </div>
    <div class="card-grid">
      <div class="card">
        <h3>Run by Pet Owners</h3>
        <p>Our team personally understands the heartbreak and financial stress of pet illness.</p>
      </div>
      <div class="card">
        <h3>East Bay Focus</h3>
        <p>We keep it local, ensuring faster and more personalized help.</p>
      </div>
      <div class="card">
        <h3>All Pets Welcome</h3>
        <p>Dogs, cats, rabbits, birdsâ€”every companion matters.</p>
      </div>
    </div>
  </section>

  <section id="team" class="container">
    <div class="section-title">
      <h2>Our Founding Team</h2>
    </div>
    <div class="team-grid">
      <div class="team-member">
        <img src="sam.png" alt="Samarth Dhingra">
        <h3>Samarth Dhingra</h3>
        <p>Founder & Strategy Lead</p>
      </div>
      <div class="team-member">
        <img src="shaurya.png" alt="Shaurya Gakhar">
        <h3>Shaurya Gakhar</h3>
        <p>Education Lead</p>
      </div>
      <div class="team-member">
        <img src="aman.png" alt="Aman Deshmukh">
        <h3>Aman Deshmukh</h3>
        <p>Outreach Lead</p>
      </div>
      <div class="team-member">
        <img src="dheeksha.png" alt="Dheeksha Kaku">
        <h3>Dheeksha Kaku</h3>
        <p>Outreach Executive</p>
      </div>
    </div>
    <p class="text-center" style="text-align: center; margin-top: 2rem;">Youth-led with adult volunteers for legal and operational support.</p>
  </section>

  <section id="dog" class="dog-section">
    <div class="container">
      <div class="section-title">
        <h2>Meet Our Pets</h2>
      </div>
      <p>These are our beloved pets who inspire us every day to help animals in need!</p>
      <div class="pets-grid">
        <div class="pet-image-container">
          <img src="coopy.png" alt="Coopy" class="pet-image">
          <p class="pet-image-caption">Meet Cooper! His golden locks foreshadow his nonchalant presence.</p>
        </div>
        <div class="pet-image-container">
          <img src="snoopy.png" alt="Snoopy" class="pet-image">
          <p class="pet-image-caption">Meet Snoopy! He might look aloof, but trust us, he's fun!</p>
        </div>
        <div class="pet-image-container">
          <img src="robbie.png" alt="Robbie" class="pet-image">
          <p class="pet-image-caption">Meet Robbie! A big boy with a big heart!</p>
        </div>
      </div>
    </div>
  </section>

  <section id="contact" class="container">
    <div class="section-title">
      <h2>Get in Touch</h2>
    </div>
    <div class="contact-info">
      <p>Email: <strong>ourpawmise@gmail.com</strong></p>
      <p>Instagram: <strong>@ourpawmise</strong></p>
      <p>Based in the East Bay, CA</p>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>&copy; 2025 Our Pawmise. All rights reserved.</p>
    </div>
  </footer>

  <!-- Chatbot -->
  <div class="chatbot-container">
    <button class="chatbot-toggle" onclick="toggleChatbot()">ðŸ’¬</button>
    <div class="chatbot-window" id="chatbotWindow">
      <div class="chatbot-header">
        <h3>Our Pawmise Assistant</h3>
        <button class="chatbot-close" onclick="toggleChatbot()">Ã—</button>
      </div>
      <div class="chatbot-messages" id="chatbotMessages">
        <div class="message bot">
          <div class="message-content">
            Hi! I'm here to help you learn more about Our Pawmise. Ask me anything about our mission, programs, or how we help pets in need!
          </div>
        </div>
      </div>
      <div class="typing-indicator" id="typingIndicator">
        <div class="typing-dots">
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
        </div>
      </div>
      <div class="chatbot-input">
        <input type="text" id="chatbotInput" placeholder="Type your message..." onkeypress="handleKeyPress(event)">
        <button class="chatbot-send" onclick="sendMessage()">â†’</button>
      </div>
    </div>
  </div>

  <script>
    // Knowledge base for the chatbot
    const knowledgeBase = {
      mission: "Our mission is to save and improve pet lives by helping East Bay pet owners afford critical veterinary care. We work to eliminate 'economic euthanasia' by offering grants and education to families in need.",
      
      programs: "We provide three main services: 1) Financial Assistance - one-time grants paid directly to veterinarians for non-routine treatments, 2) Pet Owner Education - resources on preventive care and financial planning, 3) Referrals - guidance to trusted local resources for emergency or basic care.",
      
      team: "Our founding team includes Samarth Dhingra (Founder & Strategy Lead), Shaurya Gakhar (Education Lead), Dheeksha Kaku (Outreach Executive), and Aman Deshmukh (Outreach Lead). We're youth-led with adult volunteers for legal and operational support.",
      
      contact: "You can reach us at ourpawmise@gmail.com or follow us on Instagram @ourpawmise. We're based in the East Bay, CA.",
      
      pets: "We have three beloved pets who inspire us: Cooper with his golden locks and nonchalant presence, Snoopy who might look aloof but is actually fun, and Robbie who's a big boy with a big heart!",
      
      location: "We focus on the East Bay area of California, ensuring faster and more personalized help for local pet owners in need.",
      
      apply: "For information about applying for financial assistance, please email us at hello@ourpawmise.org. We'll guide you through the process and help determine if you qualify for our programs.",
      
      difference: "What makes us different: We're run by pet owners who personally understand the heartbreak and financial stress of pet illness. We keep it local with East Bay focus, and welcome all pets - dogs, cats, rabbits, birds, every companion matters.",
      
      // Comprehensive document content from OurPawmise Nonprofit Plan
      documentContent: `
        ORGANIZATION OVERVIEW:
        OurPawmise is a nonprofit organization dedicated to ensuring that no beloved pet is denied essential veterinary care due to a family's financial hardship. We provide financial assistance and pet owner education for critical veterinary treatments specifically to the East Bay. We focus on non-routine, non-emergency medical needs - those significant treatments (for illnesses such as cancer, heart disease, or chronic conditions) that pet owners often find financially overwhelming.

        WHAT SETS US APART:
        1. Run by Pet Owners: Our team is made up entirely of pet owners who truly understand the emotional and financial stress of caring for a sick animal.
        2. Focused on the East Bay: We serve our local community with a personal touch, offering support that's close to home.
        3. Inclusive of All Pets: We welcome and support all pets in need, regardless of type or background.

        MISSION AND VISION:
        Mission: Our mission is to save and improve pet lives by providing financial support for vital veterinary care to pet owners in need, and empower families to manage their pets' healthcare costs proactively. We strive to ensure that companion animals receive necessary medical treatment regardless of their owners' income, eliminating "economic euthanasia" - the heartbreaking choice to forgo treatment or euthanize a pet due to cost.

        Vision: We envision a future where decisions about a pet's medical care are never made on the basis of cost. Every pet owner has access to resources for both urgent and long-term veterinary needs, and pet parents are equipped with knowledge to prevent health emergencies and plan financially for their animal's care.

        FINANCIAL ASSISTANCE PROGRAM:
        We offer one-time grants to pet owners who cannot afford the cost of necessary veterinary treatments for serious but treatable conditions. The program prioritizes non-basic, non-routine care - for example, oncology treatments (cancer care), cardiology interventions (heart disease management), orthopedic surgeries, or other specialized procedures.

        Key Features:
        - Focus on Treatable, Non-Emergency Cases: We assist with cases that are urgent but not immediate emergencies, where treatment can withstand a short waiting period without irreversible harm.
        - Local Scope: We serve eligible pet owners throughout the East Bay.
        - Grant Amount: Each grant covers a significant portion of the required treatment cost (up to a maximum cap per case).
        - Payment Process: All funds are paid directly to veterinarians, never to applicants.
        - Supported Treatments: Tumor removals, chemotherapy, heart surgeries, kidney disease management, joint repair surgeries, vision-saving eye surgeries, and other non-routine interventions.

        ELIGIBILITY CRITERIA:
        - Pet must be a domestic companion animal (dogs, cats, rabbits, small mammals, birds, etc.)
        - Applicant must have owned the pet for at least 6 months prior to application
        - Pet's medical condition must be serious and treatable with reasonable prognosis (at least 50% chance of good outcome)
        - Condition cannot be an immediate life-or-death emergency
        - Applicant must demonstrate financial need
        - Applicant should have some form of income or support to care for pet's ongoing needs
        - Exclusions: We do not cover elective procedures, routine care, pet ownership basics, or treatments due to owner negligence

        APPLICATION PROCESS:
        1. Initial Inquiry: Contact us by email with brief description of pet's condition, estimated cost, and financial situation
        2. Application Submission: Complete application form with detailed information and supporting documents
        3. Review and Waitlist: Application is reviewed for completeness and added to queue
        4. Approval and Funding: When approved, we work directly with veterinary clinic to arrange payment
        5. Follow-Up: We follow up to ensure treatment was received and offer continued support

        PET OWNER EDUCATION:
        We provide educational resources on:
        - Preventive care education (check-ups, vaccinations, dental care, nutrition)
        - Financial planning for pet care (pet insurance, savings strategies)
        - Resource referrals to other assistance programs
        - Workshops and outreach events
        - Online education center with articles and FAQs

        STATISTICS ON PET CARE COSTS:
        - 48% of pet owners would consider euthanizing their pet if faced with a costly illness they could not afford
        - Over half of owners would contemplate unnecessary euthanasia for a lifesaving procedure costing $2,500
        - 18% of pet owners who had to euthanize an animal cited the cost of treatment as the primary reason

        BOARD AND LEADERSHIP:
        Board of Directors:
        - Monika Dhingra - Board Chair, President & Treasurer (Volunteer Unpaid)
        - Atul Dhingra - Secretary (Volunteer Unpaid)
        - Samarth Dhingra - Founder and Non-Voting Board Member (Volunteer Unpaid)

        Founding Team:
        - Samarth Dhingra - Founder & Strategy Lead (Youth Board Member)
        - Shaurya Gakhar - Education Lead
        - Aman Deshmukh - Outreach Lead
        - Dheeksha Kaku - Outreach Executive
        All members are unpaid volunteers.

        CONTACT INFORMATION:
        Email: ourpawmise@gmail.com
        Instagram: @ourpawmise
        Location: East Bay, California
      `
    };

    // Document content storage
    let documentContent = "";

    let chatbotOpen = false;

    // Load the text file when the page loads
    window.addEventListener('load', function() {
      loadTextFile();
    });

    function loadTextFile() {
      // Start with the integrated content as default
      documentContent = knowledgeBase.documentContent;
      
      // Try to load the text file as an enhancement
      fetch('OurPawmiseâ€“ Nonprofit Plan.txt')
        .then(response => {
          if (response.ok) {
            return response.text();
          } else {
            throw new Error('Text file not found');
          }
        })
        .then(data => {
          documentContent = data;
          console.log('Document loaded successfully from text file');
        })
        .catch(error => {
          console.log('Using integrated content - text file not available');
          // Keep using the integrated content
        });
    }

    function toggleChatbot() {
      const window = document.getElementById('chatbotWindow');
      chatbotOpen = !chatbotOpen;
      window.style.display = chatbotOpen ? 'flex' : 'none';
      
      if (chatbotOpen) {
        document.getElementById('chatbotInput').focus();
      }
    }

    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    function showTyping() {
      const indicator = document.getElementById('typingIndicator');
      indicator.style.display = 'block';
      indicator.scrollIntoView({ behavior: 'smooth' });
    }

    function hideTyping() {
      document.getElementById('typingIndicator').style.display = 'none';
    }

    function addMessage(content, isUser = false) {
      const messages = document.getElementById('chatbotMessages');
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
      
      const contentDiv = document.createElement('div');
      contentDiv.className = 'message-content';
      contentDiv.textContent = content;
      
      messageDiv.appendChild(contentDiv);
      messages.appendChild(messageDiv);
      messages.scrollTop = messages.scrollHeight;
    }

    function sendMessage() {
      const input = document.getElementById('chatbotInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      addMessage(message, true);
      input.value = '';
      
      showTyping();
      
      // Simulate processing time
      setTimeout(() => {
        hideTyping();
        const response = generateResponse(message);
        addMessage(response);
      }, 1000 + Math.random() * 2000);
    }

    function searchDocumentContent(query) {
      if (!documentContent) return null;
      
      const lowerQuery = query.toLowerCase();
      const lowerContent = documentContent.toLowerCase();
      
      // Search for specific keywords and return relevant sections
      const keywords = lowerQuery.split(' ');
      let bestMatch = null;
      let bestScore = 0;
      
      // Split content into sections for better searching
      const sections = documentContent.split(/\n\s*\n/);
      
      for (let section of sections) {
        const lowerSection = section.toLowerCase();
        let score = 0;
        
        // Check how many keywords match in this section
        for (let keyword of keywords) {
          if (lowerSection.includes(keyword)) {
            score += 1;
          }
        }
        
        // If this section has more matching keywords, it's a better match
        if (score > bestScore && score > 0) {
          bestScore = score;
          bestMatch = section.trim();
        }
      }
      
      // If no good section match, try direct keyword search
      if (!bestMatch) {
        for (let keyword of keywords) {
          if (lowerContent.includes(keyword)) {
            const index = lowerContent.indexOf(keyword);
            const start = Math.max(0, index - 150);
            const end = Math.min(documentContent.length, index + 300);
            return documentContent.substring(start, end).trim() + '...';
          }
        }
      }
      
      return bestMatch;
    }

    function generateResponse(message) {
      const lowerMessage = message.toLowerCase();
      
      // Check document content in knowledge base
      if (knowledgeBase.documentContent && knowledgeBase.documentContent !== '[PASTE YOUR DOCUMENT CONTENT HERE]') {
        const docAnswer = searchDocumentContent(lowerMessage);
        if (docAnswer) {
          return docAnswer;
        }
      }
      
      // Check knowledge base for relevant responses
      if (lowerMessage.includes('mission') || lowerMessage.includes('purpose') || lowerMessage.includes('goal')) {
        return knowledgeBase.mission;
      }
      
      if (lowerMessage.includes('help') || lowerMessage.includes('assist') || lowerMessage.includes('program') || lowerMessage.includes('service')) {
        return knowledgeBase.programs;
      }
      
      if (lowerMessage.includes('contact') || lowerMessage.includes('email') || lowerMessage.includes('reach') || lowerMessage.includes('get in touch')) {
        return knowledgeBase.contact;
      }
      
      if (lowerMessage.includes('team') || lowerMessage.includes('founder') || lowerMessage.includes('who runs')) {
        return knowledgeBase.team;
      }
      
      if (lowerMessage.includes('pet') || lowerMessage.includes('mascot') || lowerMessage.includes('cooper') || lowerMessage.includes('snoopy') || lowerMessage.includes('robbie')) {
        return knowledgeBase.pets;
      }
      
      if (lowerMessage.includes('location') || lowerMessage.includes('area') || lowerMessage.includes('east bay') || lowerMessage.includes('where')) {
        return knowledgeBase.location;
      }
      
      if (lowerMessage.includes('apply') || lowerMessage.includes('grant') || lowerMessage.includes('financial') || lowerMessage.includes('qualify')) {
        return knowledgeBase.apply;
      }
      
      if (lowerMessage.includes('different') || lowerMessage.includes('unique') || lowerMessage.includes('special')) {
        return knowledgeBase.difference;
      }
      
      // Default response
      return "Thank you for your question! I can help you learn about our mission, programs, team, pets, location, how to apply, or what makes us different. For specific assistance, please email us at hello@ourpawmise.org.";
    }
  </script>
</body>
</html>
